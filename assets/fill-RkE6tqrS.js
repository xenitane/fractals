import{a as P,j as i,b as h,c as w,R as V,G as k,r as I}from"./GlobalLayout-o9Xx0qgO.js";import{g,h as M,p as l,i as p,j as y,F as G,S}from"./SVG-Wt2vSyXx.js";import{E as _}from"./Error-6vwtpaSV.js";import"./form-vfEzKw6_.js";import"./arrow-right-u9c2Kmmb.js";function C(o,{animate:e,order:n,FractalInfo:r,colored:t,interval:s}){let a=[[r.origin[0],r.origin[1]]],d=[];const x=r.polyVGen(n,!0),u=r.polyVGen(n,!1);for(;n--;)[a,d]=r.rules(a,d);const m=[...a.map(c=>u(c)),...d.map(c=>x(c))];if(a=[],d=[],e){let c=0;s.i=setInterval(()=>{c===m.length?clearInterval(s.i):(o.appendChild(g({color:[0,0,0],points:m[c]})),c++)},5)}else for(const c of m)o.appendChild(g({color:[0,0,0],points:c}))}const R={name:"Sierpinski Triangle",maxOrder:7,rules:()=>{const n=900/Math.sin(2*Math.PI/3);let r=n*(1-.5);return{origin:[0,n*(1-Math.cos(Math.PI/3))/2],rules:(t,s)=>{const a=M(t,3,r);return r*=.5,[a,s]},polyVGen:t=>s=>l(s,3,n*Math.pow(.5,t))}}},v={name:"Sierpinski Pentagon",maxOrder:5,rules:()=>{const e=1/(1+2*Math.cos(Math.PI/5)),n=900/Math.sin(2*Math.PI/5);let r=n*(1-e);return{origin:[0,n*(1-Math.cos(Math.PI/5))/2],rules:(t,s)=>{const a=M(t,5,r);return r*=e,[a,s]},polyVGen:t=>s=>l(s,5,n*Math.pow(e,t))}}},j={name:"Sierpinski Hexagon",maxOrder:5,rules:()=>{const e=.3333333333333333,n=900;let r=n*(1-e);return{origin:[0,0],rules:(t,s)=>{const a=M(t,6,r);return r*=e,[a,s]},polyVGen:t=>s=>l(s,6,n*Math.pow(e,t))}}},F={name:"Pentaflake",maxOrder:5,rules:()=>{const e=1/(1+2*Math.cos(Math.PI/5)),n=900/Math.sin(2*Math.PI/5);let r=n*(1-e);return{origin:[0,n*(1-Math.cos(Math.PI/5))/2],rules:(t,s)=>{const a=p(t,s,5,r);return r*=e,a},polyVGen:(t,s)=>a=>l(a,5,n*Math.pow(e,t),s?Math.PI:0)}}},O={name:"Hexaflake",maxOrder:5,rules:()=>{const e=.3333333333333333,n=900;let r=n*(1-e);return{origin:[0,n*(1-Math.cos(Math.PI/6))/2],rules:(t,s)=>{const a=p(t,s,6,r);return r*=e,a},polyVGen:(t,s)=>a=>l(a,6,n*Math.pow(e,t),s?Math.PI:0)}}},H={name:"Hex Nut",maxOrder:5,rules:()=>{const e=.3333333333333333,n=900;let r=n*(1-e)*Math.cos(Math.PI/6);return{origin:[0,0],rules:(t,s)=>{const a=M(t,6,r,Math.PI/6);return r*=e,[a,s]},polyVGen:(t,s)=>a=>l(a,6,n*Math.pow(e,t),s?Math.PI:0)}}},q={name:"Hex Pool",maxOrder:5,rules:()=>{const e=.3333333333333333,n=900;let r=n*(1-e)*Math.cos(Math.PI/6);return{origin:[0,0],rules:(t,s)=>{const a=p(t,s,6,r,Math.PI/6);return r*=e,a},polyVGen:(t,s)=>a=>l(a,6,n*Math.pow(e,t),s?Math.PI:0)}}},N={name:"Sierpinski Carpet",maxOrder:5,rules:()=>{const o=900*Math.sqrt(2),e=1/3,n=4,r=[o*(1-e),o*(1-e)/Math.sqrt(2)];return{origin:[0,0],polyVGen:t=>s=>l(s,4,o*Math.pow(e,t),Math.PI/4),rules:(t,s)=>{const a=y(t,n,r);return r[0]*=e,r[1]*=e,[a,s]}}}},b={name:"VicSek Fractal",maxOrder:6,rules:()=>{const o=900*Math.sqrt(2),e=1/3,n=4;let r=o*(1-e);return{origin:[0,0],polyVGen:t=>s=>l(s,4,o*Math.pow(e,t),Math.PI/4),rules:(t,s)=>{const a=p(t,s,n,r,Math.PI/4);return r*=e,a}}}},E={name:"VicSek Fractal 2",maxOrder:6,rules:()=>{const o=900*Math.sqrt(2),e=1/3,n=4;let r=o*(1-e)/Math.sqrt(2);return{origin:[0,0],polyVGen:t=>s=>l(s,4,o*Math.pow(e,t),Math.PI/4),rules:(t,s)=>{const a=p(t,s,n,r);return r*=e,a}}}},f={"hex-nut":H,"hex-pool":q,"hexa-flake":O,"penta-flake":F,"sierpinski-carpet":N,"sierpinski-hexagon":j,"sierpinski-pentagon":v,"sierpinski-triangle":R,"vicsek-fractal":b,"vicsek-fractal-2":E},T=()=>{var d,x;const o=(x=(d=window.location.search.split("?").at(1))==null?void 0:d.split("&").filter(u=>u.startsWith("id=")).at(0))==null?void 0:x.split("=").at(1),e=P.useRef(null);if(o===void 0||!(o in f))return window.location.href="/geo-vis/404",i.jsx(_,{});const n={i:void 0},r=f[o];function t(){e.current.innerHTML="",clearInterval(n.i),n.i=void 0}function s(u){t(),C(e.current,{...u,interval:n,FractalInfo:r.rules()})}function a(){}return i.jsxs("article",{className:h("flex w-full flex-col gap-8 py-2","lg:flex-row"),children:[i.jsxs("div",{className:h("flex w-full flex-col","lg:w-1/3"),children:[i.jsx("h3",{className:h("pb-4 text-2xl underline","lg:text-3xl"),children:r.name}),i.jsx(G,{handleSubmit:s,SVGReset:t,maxOrder:r.maxOrder,handleSave:a})]}),i.jsx("div",{className:h("flex justify-center","lg:w-2/3"),children:i.jsx("div",{className:h("aspect-square w-full rounded-xl bg-slate-200","lg:w-[80vh]"),children:i.jsx(S,{ref:e})})})]})};w.createRoot(document.querySelector("#root")).render(i.jsx(V.StrictMode,{children:i.jsx(k,{children:i.jsx(T,{})})}));I(console.log);
