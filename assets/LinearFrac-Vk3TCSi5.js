import{u as N,r as S,j as n,N as L,c as o}from"./index-ZZnzyjVk.js";import{r as j}from"./complex-w3zDMYH0.js";import{c as w,S as M}from"./SVGCanvas-LxjlG6WV.js";import{F as R}from"./FractalForm-CRxN7Nls.js";import{L as c}from"./Linear-B-RYrmYL.js";import"./fracUtils-EuSe4TLi.js";function C(s,{animate:i,colored:u,order:f,FractalInfo:a,interval:d}){let t=[0,0],x=[1,0];const l=[[0,0]],e=[[0,0],[0,0]];(function r(v,m){if(a.rules[m][0]||v===0)[t,x]=a.rules[m][1](t,x),(t[0]!==l.at(-1)[0]||t[1]!==l.at(-1)[1])&&l.push(t),e[0][0]=Math.min(e[0][0],t[0]),e[0][1]=Math.min(e[0][1],t[1]),e[1][0]=Math.max(e[1][0],t[0]),e[1][1]=Math.max(e[1][1],t[1]);else for(let h=0;h<a.rules[m][2].length;h++)r(v-1,a.rules[m][2].charAt(h))})(f+a.shift,"I");const p=[(e[1][0]+e[0][0])/2,(e[1][1]+e[0][1])/2],g=1800/Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]);for(const r of l)r[0]=j((r[0]-p[0])*g),r[1]=j((r[1]-p[1])*g);if(i){let r=1;d.i=setInterval(()=>{if(r===l.length){clearInterval(d.i);return}s.appendChild(w({color:[0,0,0],start:l[r-1],end:l[r]})),r++},5)}else for(let r=1;r<l.length;r++)s.appendChild(w({color:[0,0,0],start:l[r-1],end:l[r]}))}const O=()=>{const{fracID:s}=N(),i=S.useRef(null);if(!(s in c))return n.jsx(L,{to:"/geo-vis/404"});const u={i:void 0};let f=c[s].rules();function a(){f=c[s].rules(),i.current.innerHTML="",clearInterval(u.i),u.i=void 0}function d(x){a(),C(i.current,{...x,interval:u,FractalInfo:f})}function t(){}return n.jsxs("article",{className:o("flex w-full flex-col gap-8 py-2","lg:flex-row"),children:[n.jsxs("div",{className:o("flex w-full flex-col","lg:w-1/3"),children:[n.jsx("h3",{className:o("pb-4 text-2xl underline","lg:text-3xl"),children:c[s].name}),n.jsx(R,{handleSubmit:d,SVGReset:a,maxOrder:c[s].maxOrder,handleSave:t})]}),n.jsx("div",{className:o("flex justify-center","lg:w-2/3"),children:n.jsx("div",{className:o("aspect-square w-full rounded-xl bg-neutral-200","lg:w-[80vh]"),children:n.jsx(M,{ref:i})})})]})};export{O as default};
//# sourceMappingURL=LinearFrac-Vk3TCSi5.js.map
