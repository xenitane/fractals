import{u as B,r as C,j as s,N as E,c as p}from"./index-29L34l6h.js";import{r as N}from"./complex-w3zDMYH0.js";import{c as y,S as F}from"./SVGCanvas-cjQ4KCCz.js";import{F as G}from"./FractalForm-XT92gJT2.js";import{B as d}from"./Branching-hbnJ2le7.js";import"./fracUtils-EuSe4TLi.js";function V(n,{order:f,animate:m,colored:S,interval:x,FractalInfo:o}){let g=[0,0],v=[1,0];const c=[],t=[[0,0],[0,0]];function R(e,a,r,i){if(typeof i=="string"){for(const l of[...i])[e,a]=M(e,a,l,r);return[e,a]}else{for(const h of[...i[0]])[e,a]=M(e,a,h,r);let l=[e[0],e[1]],u=[a[0],a[1]];for(const h of i[1])l=[e[0],e[1]],u=[a[0],a[1]],[l,u]=R(l,u,r,h);return o.stay?[e,a]:[l,u]}}function M(e,a,r,i){if(i===0||o.rules[r][0]){const[l,u,h]=o.rules[r][1](e,a);return h&&(l[0]!==e[0]||l[1]!==e[1])&&(c.push([[e[0],e[1]],[l[0],l[1]]]),t[0][0]=Math.min(t[0][0],l[0]),t[0][1]=Math.min(t[0][1],l[1]),t[1][0]=Math.max(t[1][0],l[0]),t[1][1]=Math.max(t[1][1],l[1])),[l,u]}return R(e,a,i-1,o.rules[r][2])}[g,v]=M(g,v,"I",f+o.shift);const j=[(t[1][0]+t[0][0])/2,(t[1][1]+t[0][1])/2],w=1800/Math.max(t[1][0]-t[0][0],t[1][1]-t[0][1]);for(const e of c)e[0][0]=N((e[0][0]-j[0])*w),e[0][1]=N((e[0][1]-j[1])*w),e[1][0]=N((e[1][0]-j[0])*w),e[1][1]=N((e[1][1]-j[1])*w);if(m){let e=0;x.i=setInterval(()=>{if(e===c.length){clearInterval(x.i);return}n.appendChild(y({color:[0,0,0],start:c[e][0],end:c[e][1]})),e++},5)}else for(const e of c)n.appendChild(y({color:[0,0,0],start:e[0],end:e[1]}))}const H=()=>{const{fracID:n}=B(),f=C.useRef(null);if(!(n in d))return s.jsx(E,{to:"/geo-vis/404"});const m={i:void 0};let S=d[n].rules();function x(){S=d[n].rules(),f.current.innerHTML="",clearInterval(m.i),m.i=void 0}function o(v){x(),V(f.current,{...v,interval:m,FractalInfo:S})}function g(){}return s.jsxs("article",{className:p("flex w-full flex-col gap-8 py-2","lg:flex-row"),children:[s.jsxs("div",{className:p("flex w-full flex-col","lg:w-1/3"),children:[s.jsx("h3",{className:p("pb-4 text-2xl underline","lg:text-3xl"),children:d[n].name}),s.jsx(G,{handleSubmit:o,SVGReset:x,maxOrder:d[n].maxOrder,handleSave:g})]}),s.jsx("div",{className:p("flex justify-center","lg:w-2/3"),children:s.jsx("div",{className:p("aspect-square w-full rounded-xl bg-slate-200","lg:w-[80vh]"),children:s.jsx(F,{ref:f})})})]})};export{H as default};
//# sourceMappingURL=BranchingFrac-qXH4Mnep.js.map
