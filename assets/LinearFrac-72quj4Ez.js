import{u as v,r as S,j as o,N}from"./index-PKfJwdl6.js";import{F as j}from"./FractalForm-w5o-5RdZ.js";import{L as h}from"./Linear-b5mEHpys.js";function b(r){return(1<<24|r[0]<<16|r[1]<<8|r[2]).toString(16).slice(1)}function w({width:r,color:i,start:c,end:a}){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"stroke",`#${b(i)}`),n.setAttributeNS(null,"stroke-width",`${r}px`),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"stroke-linecap","round"),n.setAttributeNS(null,"d",`M ${c[0]} ${c[1]} L ${a[0]} ${a[1]}`),n}function L(r,{animate:i,colored:c,depth:a,rules:n,interval:d}){let s=[0,0],u=[1,0];const l=[[0,0]],e=[[0,0],[0,0]];(function t(p,f){n[f][0]||p===0?([s,u]=n[f][1](s,u),(s[0]!==l.at(-1)[0]||s[1]!==l.at(-1)[1])&&l.push(s),e[0][0]=Math.min(e[0][0],s[0]),e[0][1]=Math.min(e[0][1],s[1]),e[1][0]=Math.max(e[1][0],s[0]),e[1][1]=Math.max(e[1][1],s[1])):[...n[f][2]].forEach(g=>t(p-1,g))})(a,"I");const x=[(e[1][0]+e[0][0])/2,(e[1][1]+e[0][1])/2],m=1800/Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]);if(l.forEach(t=>{t[0]=(t[0]-x[0])*m,t[1]=(t[1]-x[1])*m}),i){let t=1;d.i=setInterval(()=>{t===l.length?clearInterval(d.i):(r.appendChild(w({width:2,color:[0,0,0],start:l[t-1],end:l[t]})),t++)},5)}else for(let t=1;t<l.length;t++)r.appendChild(w({width:2,color:[0,0,0],start:l[t-1],end:l[t]}))}const F=()=>{const{fracID:r}=v(),i=S.useRef(null),c={i:void 0};if(!(r in h))return o.jsx(N,{to:"/geo-vis/404"});let a=h[r].rules();function n(){a=h[r].rules(),i.current.innerHTML="",clearInterval(c.i)}function d(u){n(),L(i.current,{...u,rules:a.rules,interval:c,depth:u.depth+a.shift})}function s(){console.log(i.current)}return o.jsxs("article",{className:"flex w-full justify-evenly py-2",children:[o.jsxs("div",{className:"flex w-1/3 flex-col",children:[o.jsx("h3",{className:"pb-4 text-3xl underline",children:h[r].name}),o.jsx(j,{handleSubmit:d,SVGReset:n,maxDepth:h[r].maxDepth,handleSave:s})]}),o.jsx("div",{className:"aspect-square h-[90vh]  bg-gray-300",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-1000 -1000 2000 2000",width:"100%",height:"100%",xmlSpace:"preserve",xmlnsXlink:"http://wwww3.org/1999/xlink",ref:i})})]})};export{F as default};
//# sourceMappingURL=LinearFrac-72quj4Ez.js.map
