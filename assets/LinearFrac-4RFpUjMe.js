import{r as v,j as o,u as N,N as j}from"./index-pT_iBuUB.js";import{F as b}from"./FractalForm-3ATgci_i.js";import{L as h}from"./Linear-B5dr8mxP.js";function L(r){return(1<<24|r[0]<<16|r[1]<<8|r[2]).toString(16).slice(1)}function w({width:r,color:l,start:c,end:i}){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"stroke",`#${L(l)}`),n.setAttributeNS(null,"stroke-width",`${r}px`),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"stroke-linecap","round"),n.setAttributeNS(null,"d",`M ${c[0]} ${c[1]} L ${i[0]} ${i[1]}`),n}function M(r,{animate:l,colored:c,depth:i,rules:n,interval:d}){let s=[0,0],u=[1,0];const a=[[0,0]],e=[[0,0],[0,0]];(function t(p,f){n[f][0]||p===0?([s,u]=n[f][1](s,u),(s[0]!==a.at(-1)[0]||s[1]!==a.at(-1)[1])&&a.push(s),e[0][0]=Math.min(e[0][0],s[0]),e[0][1]=Math.min(e[0][1],s[1]),e[1][0]=Math.max(e[1][0],s[0]),e[1][1]=Math.max(e[1][1],s[1])):[...n[f][2]].forEach(S=>t(p-1,S))})(i,"I");const x=[(e[1][0]+e[0][0])/2,(e[1][1]+e[0][1])/2],m=1800/Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]);if(a.forEach(t=>{t[0]=(t[0]-x[0])*m,t[1]=(t[1]-x[1])*m}),l){let t=1;d.i=setInterval(()=>{t===a.length?clearInterval(d.i):(r.appendChild(w({width:2,color:[0,0,0],start:a[t-1],end:a[t]})),t++)},5)}else for(let t=1;t<a.length;t++)r.appendChild(w({width:2,color:[0,0,0],start:a[t-1],end:a[t]}))}const g=v.forwardRef((r,l)=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-1000 -1000 2000 2000",width:"100%",height:"100%",xmlSpace:"preserve",xmlnsXlink:"http://wwww3.org/1999/xlink",ref:l}));g.displayName="SVGCanvas";const I=()=>{const{fracID:r}=N(),l=v.useRef(null),c={i:void 0};if(!(r in h))return o.jsx(j,{to:"/geo-vis/404"});let i=h[r].rules();function n(){i=h[r].rules(),l.current.innerHTML="",clearInterval(c.i)}function d(u){n(),M(l.current,{...u,rules:i.rules,interval:c,depth:u.depth+i.shift})}function s(){console.log(l.current)}return o.jsxs("article",{className:"flex w-full justify-evenly py-2",children:[o.jsxs("div",{className:"flex w-1/3 flex-col",children:[o.jsx("h3",{className:"pb-4 text-3xl underline",children:h[r].name}),o.jsx(b,{handleSubmit:d,SVGReset:n,maxDepth:h[r].maxDepth,handleSave:s})]}),o.jsx("div",{className:"aspect-square h-[90vh]  bg-gray-300",children:o.jsx(g,{ref:l})})]})};export{I as default};
//# sourceMappingURL=LinearFrac-4RFpUjMe.js.map
