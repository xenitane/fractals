{"version":3,"file":"LinearFrac-ZFd2uPF5.js","sources":["../../src/pages/LinearFrac.tsx"],"sourcesContent":["import { useRef } from \"react\";\nimport { LinearRenderer, cn } from \"@/lib/utils\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport FractalForm, { formSchema } from \"@/components/FractalForm\";\nimport LinearFractalRulesSet from \"@/lib/rules/Linear\";\nimport SVGCanvas from \"@/components/SVGCanvas\";\n\nconst LinearFrac = () => {\n\tconst { fracID } = useParams();\n\tconst SVGRef = useRef<SVGSVGElement>(null);\n\n\tif (!(fracID! in LinearFractalRulesSet)) return <Navigate to=\"/geo-vis/404\" />;\n\n\tconst interval: { i: NodeJS.Timeout | undefined } = { i: undefined };\n\n\tlet FractalInfo = LinearFractalRulesSet[fracID!].rules();\n\n\tfunction SVGReset() {\n\t\tFractalInfo = LinearFractalRulesSet[fracID!].rules();\n\t\tSVGRef.current!.innerHTML = \"\";\n\t\tclearInterval(interval.i);\n\t}\n\n\tfunction handleSubmit(data: formSchema) {\n\t\tSVGReset();\n\t\tLinearRenderer(SVGRef.current!, {\n\t\t\t...data,\n\t\t\tinterval,\n\t\t\tFractalInfo,\n\t\t});\n\t}\n\n\tfunction handleSave() {\n\t\t// console.log(SVGRef.current);\n\t}\n\n\treturn (\n\t\t<article className={cn(\"flex w-full flex-col gap-8 py-2\", \"lg:flex-row\")}>\n\t\t\t<div className={cn(\"flex w-full flex-col\", \"lg:w-1/3\")}>\n\t\t\t\t<h3 className={cn(\"pb-4 text-2xl underline\", \"lg:text-3xl\")}>{LinearFractalRulesSet[fracID!].name}</h3>\n\t\t\t\t<FractalForm\n\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\tSVGReset={SVGReset}\n\t\t\t\t\tmaxDepth={LinearFractalRulesSet[fracID!].maxDepth}\n\t\t\t\t\thandleSave={handleSave}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={cn(\"flex justify-center\", \"lg:w-2/3\")}>\n\t\t\t\t<div className={cn(\"aspect-square w-full rounded-xl bg-neutral-200\", \"lg:w-[80vh]\")}>\n\t\t\t\t\t<SVGCanvas ref={SVGRef} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t);\n};\n\nexport default LinearFrac;\n"],"names":["LinearFrac","fracID","useParams","SVGRef","useRef","LinearFractalRulesSet","jsx","Navigate","interval","FractalInfo","SVGReset","handleSubmit","data","LinearRenderer","handleSave","cn","jsxs","FractalForm","SVGCanvas"],"mappings":"uMAOA,MAAMA,EAAa,IAAM,CAClB,KAAA,CAAE,OAAAC,GAAWC,IACbC,EAASC,SAAsB,IAAI,EAEzC,GAAI,EAAEH,KAAWI,GAA+B,OAAAC,EAAA,IAACC,EAAS,CAAA,GAAG,cAAe,CAAA,EAEtE,MAAAC,EAA8C,CAAE,EAAG,MAAU,EAEnE,IAAIC,EAAcJ,EAAsBJ,CAAO,EAAE,MAAM,EAEvD,SAASS,GAAW,CACLD,EAAAJ,EAAsBJ,CAAO,EAAE,MAAM,EACnDE,EAAO,QAAS,UAAY,GAC5B,cAAcK,EAAS,CAAC,CACzB,CAEA,SAASG,EAAaC,EAAkB,CAC9BF,IACTG,EAAeV,EAAO,QAAU,CAC/B,GAAGS,EACH,SAAAJ,EACA,YAAAC,CAAA,CACA,CACF,CAEA,SAASK,GAAa,CAEtB,CAEA,cACE,UAAQ,CAAA,UAAWC,EAAG,kCAAmC,aAAa,EACtE,SAAA,CAAAC,EAAA,KAAC,MAAI,CAAA,UAAWD,EAAG,uBAAwB,UAAU,EACpD,SAAA,CAACT,EAAAA,IAAA,KAAA,CAAG,UAAWS,EAAG,0BAA2B,aAAa,EAAI,SAAAV,EAAsBJ,CAAO,EAAE,IAAK,CAAA,EAClGK,EAAA,IAACW,EAAA,CACA,aAAAN,EACA,SAAAD,EACA,SAAUL,EAAsBJ,CAAO,EAAE,SACzC,WAAAa,CAAA,CACD,CAAA,EACD,QACC,MAAI,CAAA,UAAWC,EAAG,sBAAuB,UAAU,EACnD,SAACT,MAAA,MAAA,CAAI,UAAWS,EAAG,iDAAkD,aAAa,EACjF,SAAAT,EAAA,IAACY,GAAU,IAAKf,EAAQ,EACzB,CACD,CAAA,CACD,CAAA,CAAA,CAEF"}