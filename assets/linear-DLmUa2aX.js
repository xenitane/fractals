import{a as C,j as o,b as h,c as O,R as G,G as b,r as j}from"./GlobalLayout-BeWW7bl7.js";import{r as B,m as k}from"./form-ZCpzmn97.js";import{c as H,d as r,m as e,r as g,l as w,a as u,b as n,e as f,f as P,F as V,S as M}from"./SVG-J2bL_s5v.js";import{E as L}from"./Error-CY6jNC-Z.js";import"./arrow-right-XHU5zYwQ.js";function q(a,{animate:t,colored:c,order:d,FractalInfo:N,interval:x}){let i=[0,0],m=[1,0];const F=[[0,0]],s=[[0,0],[0,0]];(function l(I,v){if(N.rules[v][0]||I===0)[i,m]=N.rules[v][1](i,m),(i[0]!==F.at(-1)[0]||i[1]!==F.at(-1)[1])&&F.push(i),s[0][0]=Math.min(s[0][0],i[0]),s[0][1]=Math.min(s[0][1],i[1]),s[1][0]=Math.max(s[1][0],i[0]),s[1][1]=Math.max(s[1][1],i[1]);else for(let A=0;A<N.rules[v][2].length;A++)l(I-1,N.rules[v][2].charAt(A))})(d+N.shift,"I");const p=[(s[1][0]+s[0][0])/2,(s[1][1]+s[0][1])/2],R=1800/Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]);for(const l of F)l[0]=B((l[0]-p[0])*R),l[1]=B((l[1]-p[1])*R);if(t){let l=1;x.i=setInterval(()=>{if(l===F.length){clearInterval(x.i);return}a.appendChild(H({color:[0,0,0],start:F[l-1],end:F[l]})),l++},5)}else for(let l=1;l<F.length;l++)a.appendChild(H({color:[0,0,0],start:F[l-1],end:F[l]}))}const K={name:"Levy C Curve",maxOrder:15,rules:()=>({rules:{I:[!1,r,"A"],A:[!1,e,"FPPG"],F:[!1,e,"FPPHN"],G:[!1,e,"NHPPG"],H:[!1,e,"NHPPHN"],P:[!0,g],N:[!0,w]},shift:1})},y={name:"Dragon Curve",maxOrder:15,rules:()=>({rules:{I:[!1,r,"F"],F:[!1,e,"FPH"],H:[!1,e,"FNH"],P:[!0,u],N:[!0,n]},shift:1})},E={name:"Gosper Curve",maxOrder:5,rules:()=>({rules:{I:[!1,e,"F"],F:[!1,e,"FNHNNHPFPPFFPHN"],H:[!1,e,"PFNHHNNHNFPPFPH"],P:[!0,f],N:[!0,P]},shift:1})},T={name:"Koch Snowflake",maxOrder:5,rules:()=>({rules:{I:[!1,r,"FNNFNNF"],F:[!1,e,"FPFNNFPF"],P:[!0,f],N:[!0,P]},shift:1})},X={name:"Koch Anti Snowflake",maxOrder:5,rules:()=>({rules:{I:[!1,r,"FNNFNNF"],F:[!1,e,"FNFPPFNF"],P:[!0,f],N:[!0,P]},shift:1})},Q={name:"Minkowski Island",maxOrder:3,rules:()=>({rules:{I:[!1,r,"FNFNFNF"],F:[!1,e,"FPFNFNFFPFPFNF"],P:[!0,u],N:[!0,n]},shift:1})},W={name:"Hilbert Curve",maxOrder:6,rules:()=>({rules:{I:[!1,r,"A"],A:[!1,r,"PBFNAFANFBP"],B:[!1,r,"NAFPBFBPFAN"],F:[!0,e],P:[!0,u],N:[!0,n]},shift:2})},D={name:"Peano Curve",maxOrder:5,rules:()=>({rules:{I:[!1,r,"RF"],F:[!1,e,"FPFNFNFNFPFPFPFNF"],R:[!0,g],P:[!0,u],N:[!0,n]},shift:1})},z={name:"Vicsek Fractal",maxOrder:5,rules:()=>({rules:{I:[!1,r,"FPFPFPF"],F:[!1,e,"FPFNFNFPF"],P:[!0,u],N:[!0,n]},shift:1})},J={name:"Cross Stitch Curve",maxOrder:4,rules:()=>({rules:{I:[!1,r,"FPFPFPF"],F:[!1,e,"FNFPFPFNF"],P:[!0,u],N:[!0,n]},shift:1})},U={name:"Fibonacci Word Fractal",maxOrder:20,rules:()=>{let a=!1;return{shift:1,rules:{I:[!1,r,"F"],F:[!1,(t,c)=>(a=!a,e(t,c)),"H"],H:[!1,(t,c)=>(a=!a,e(...a?u(t,c):n(t,c))),"HF"]}}}},Y={name:"Sierpinski Arrow Head",maxOrder:10,rules:()=>({shift:1,rules:{I:[!1,r,"A"],A:[!1,e,"PBNANBP"],B:[!1,e,"NAPBPAN"],N:[!0,P],P:[!0,f]}})},Z={name:"Quardratic Koch Island",maxOrder:4,rules:()=>({shift:1,rules:{I:[!1,r,"FNFNFNF"],F:[!1,e,"FNFPFPFFFNFNFPF"],P:[!0,u],N:[!0,n]}})},_={name:"Sierpinski Tiangle",maxOrder:7,rules:()=>({shift:1,rules:{I:[!1,r,"NFFNNFXFNNFFN"],F:[!1,e,"FF"],X:[!1,r,"NNFXFPPFXFPPFXFNN"],P:[!0,f],N:[!0,P]}})},$={name:"Gosper Island",maxOrder:5,rules:()=>({shift:1,rules:{I:[!1,r,"FPFPFPFPFPF"],F:[!1,e,"FNFPF"],P:[!0,P],N:[!0,f]}})},ee={name:"Quardratic Island",maxOrder:3,rules:()=>({shift:1,rules:{I:[!1,r,"FNFNFNF"],N:[!0,n],P:[!0,u],F:[!1,e,"FPFFNFFNFNFPFPFFNFNFPFPFFPFFNF"]}})},re={name:"Vicsek Fractal 2",maxOrder:5,rules:()=>({shift:1,rules:{I:[!1,r,"RFNFNFNFN"],F:[!0,e],N:[!1,n,"NFPFN"],P:[!1,u,"NFPFVFPFVFPFN"],V:[!1,r,"NFPFVFPFN"],R:[!0,w]}})},se={name:"Hilbert Curve 2",maxOrder:3,rules:()=>({shift:2,rules:{I:[!1,r,"PA"],A:[!1,r,"AFBFANFNBFAFBPFPAFBFA"],B:[!1,r,"BFAFBPFPAFBFANFNBFAFB"],F:[!0,e],P:[!0,u],N:[!0,n]}})},ae={name:"T Square",maxOrder:6,rules:()=>({shift:1,rules:{I:[!1,r,"NAFBNAFBNAFBNAFB"],F:[!0,e],N:[!1,n,"PSSAFBGNAFBNAFBNSAFBGGP"],P:[!0,u],A:[!1,r,"S"],B:[!1,r,"G"],S:[!0,(a,t)=>[a,k([1/2,0],t)]],G:[!0,(a,t)=>[a,k([2,0],t)]]}})},S={"cross-stitch-curve":J,"dragon-curve":y,"fibonacci-word-fractal":U,"gosper-curve":E,"gosper-island":$,"hilbert-curve-2":se,"hilbert-curve":W,"koch-anti-snowflake":X,"koch-snowflake":T,"levy-c-curve":K,"minkowski-island":Q,"peano-curve":D,"quardratic-island":ee,"quardratic-koch-island":Z,"sierpinski-arrow-head":Y,"sierpinski-triangle":_,"t-square":ae,"vicsek-fractal":z,"vicsek-fractal-2":re},le=()=>{var m,F;const a=(F=(m=window.location.search.split("?").at(1))==null?void 0:m.split("&").filter(s=>s.startsWith("id=")).at(0))==null?void 0:F.split("=").at(1),t=C.useRef(null);if(a===void 0||!(a in S))return window.location.href="/geo-vis/404",o.jsx(L,{});const c={i:void 0},d=S[a];function N(){t.current.innerHTML="",clearInterval(c.i),c.i=void 0}function x(s){N(),q(t.current,{...s,interval:c,FractalInfo:d.rules()})}function i(){}return o.jsxs("article",{className:h("flex w-full flex-col gap-8 py-2","lg:flex-row"),children:[o.jsxs("div",{className:h("flex w-full flex-col","lg:w-1/3"),children:[o.jsx("h3",{className:h("pb-4 text-2xl underline","lg:text-3xl"),children:d.name}),o.jsx(V,{handleSubmit:x,SVGReset:N,maxOrder:d.maxOrder,handleSave:i})]}),o.jsx("div",{className:h("flex justify-center","lg:w-2/3"),children:o.jsx("div",{className:h("aspect-square w-full rounded-xl bg-neutral-200","lg:w-[80vh]"),children:o.jsx(M,{ref:t})})})]})};O.createRoot(document.querySelector("#root")).render(o.jsx(G.StrictMode,{children:o.jsx(b,{children:o.jsx(le,{})})}));j(console.log);
