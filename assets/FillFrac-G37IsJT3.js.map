{"version":3,"file":"FillFrac-G37IsJT3.js","sources":["../../src/pages/FillFrac.tsx"],"sourcesContent":["import { useRef } from \"react\";\nimport { FillRenderer, cn } from \"@/lib/utils\";\nimport { Navigate, useParams } from \"react-router-dom\";\nimport FractalForm, { formSchema } from \"@/components/FractalForm\";\nimport FillFractalRuleSet from \"@/lib/rules/Fill\";\nimport SVGCanvas from \"@/components/SVGCanvas\";\n\nconst FillFrac = () => {\n\tconst { fracID } = useParams();\n\tconst SVGRef = useRef<SVGSVGElement>(null);\n\n\tif (!(fracID! in FillFractalRuleSet)) return <Navigate to=\"/geo-vis/404\" />;\n\n\tconst interval: { i: NodeJS.Timeout | undefined } = { i: undefined };\n\n\tlet FractalInfo = FillFractalRuleSet[fracID!].rules();\n\n\tfunction SVGReset() {\n\t\tFractalInfo = FillFractalRuleSet[fracID!].rules();\n\t\tSVGRef.current!.innerHTML = \"\";\n\t\tclearInterval(interval.i);\n\t}\n\n\tfunction handleSubmit(data: formSchema) {\n\t\tSVGReset();\n\t\tFillRenderer(SVGRef.current!, {\n\t\t\t...data,\n\t\t\tinterval,\n\t\t\tFractalInfo,\n\t\t});\n\t}\n\n\tfunction handleSave() {\n\t\t// console.log(SVGRef.current);\n\t}\n\n\treturn (\n\t\t<article className={cn(\"flex w-full flex-col gap-8 py-2\", \"lg:flex-row\")}>\n\t\t\t<div className={cn(\"flex w-full flex-col\", \"lg:w-1/3\")}>\n\t\t\t\t<h3 className={cn(\"pb-4 text-2xl underline\", \"lg:text-3xl\")}>{FillFractalRuleSet[fracID!].name}</h3>\n\t\t\t\t<FractalForm\n\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\tSVGReset={SVGReset}\n\t\t\t\t\tmaxDepth={FillFractalRuleSet[fracID!].maxDepth}\n\t\t\t\t\thandleSave={handleSave}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={cn(\"flex justify-center\", \"lg:w-2/3\")}>\n\t\t\t\t<div className={cn(\"aspect-square w-full rounded-xl bg-slate-200\", \"lg:w-[80vh]\")}>\n\t\t\t\t\t<SVGCanvas ref={SVGRef} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</article>\n\t);\n};\n\nexport default FillFrac;\n"],"names":["FillFrac","fracID","useParams","SVGRef","useRef","FillFractalRuleSet","jsx","Navigate","interval","FractalInfo","SVGReset","handleSubmit","data","FillRenderer","handleSave","cn","jsxs","FractalForm","SVGCanvas"],"mappings":"gMAOA,MAAMA,EAAW,IAAM,CAChB,KAAA,CAAE,OAAAC,GAAWC,IACbC,EAASC,SAAsB,IAAI,EAEzC,GAAI,EAAEH,KAAWI,GAA4B,OAAAC,EAAA,IAACC,EAAS,CAAA,GAAG,cAAe,CAAA,EAEnE,MAAAC,EAA8C,CAAE,EAAG,MAAU,EAEnE,IAAIC,EAAcJ,EAAmBJ,CAAO,EAAE,MAAM,EAEpD,SAASS,GAAW,CACLD,EAAAJ,EAAmBJ,CAAO,EAAE,MAAM,EAChDE,EAAO,QAAS,UAAY,GAC5B,cAAcK,EAAS,CAAC,CACzB,CAEA,SAASG,EAAaC,EAAkB,CAC9BF,IACTG,EAAaV,EAAO,QAAU,CAC7B,GAAGS,EACH,SAAAJ,EACA,YAAAC,CAAA,CACA,CACF,CAEA,SAASK,GAAa,CAEtB,CAEA,cACE,UAAQ,CAAA,UAAWC,EAAG,kCAAmC,aAAa,EACtE,SAAA,CAAAC,EAAA,KAAC,MAAI,CAAA,UAAWD,EAAG,uBAAwB,UAAU,EACpD,SAAA,CAACT,EAAAA,IAAA,KAAA,CAAG,UAAWS,EAAG,0BAA2B,aAAa,EAAI,SAAAV,EAAmBJ,CAAO,EAAE,IAAK,CAAA,EAC/FK,EAAA,IAACW,EAAA,CACA,aAAAN,EACA,SAAAD,EACA,SAAUL,EAAmBJ,CAAO,EAAE,SACtC,WAAAa,CAAA,CACD,CAAA,EACD,QACC,MAAI,CAAA,UAAWC,EAAG,sBAAuB,UAAU,EACnD,SAACT,MAAA,MAAA,CAAI,UAAWS,EAAG,+CAAgD,aAAa,EAC/E,SAAAT,EAAA,IAACY,GAAU,IAAKf,EAAQ,EACzB,CACD,CAAA,CACD,CAAA,CAAA,CAEF"}