import{u as v,r as N,j as o,N as j,c as f}from"./index-IU0lOwVC.js";import{F as b,S as L}from"./SVGCanvas-nd7ePSHm.js";import{L as d}from"./Linear-C_WKePnI.js";function M(l){return(1<<24|l[0]<<16|l[1]<<8|l[2]).toString(16).slice(1)}function w({width:l,color:a,start:c,end:i}){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"stroke",`#${M(a)}`),n.setAttributeNS(null,"stroke-width",`${l}px`),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"stroke-linecap","round"),n.setAttributeNS(null,"d",`M ${c[0]} ${c[1]} L ${i[0]} ${i[1]}`),n}function E(l,{animate:a,colored:c,depth:i,rules:n,interval:h}){let r=[0,0],u=[1,0];const s=[[0,0]],e=[[0,0],[0,0]];(function t(g,x){n[x][0]||g===0?([r,u]=n[x][1](r,u),(r[0]!==s.at(-1)[0]||r[1]!==s.at(-1)[1])&&s.push(r),e[0][0]=Math.min(e[0][0],r[0]),e[0][1]=Math.min(e[0][1],r[1]),e[1][0]=Math.max(e[1][0],r[0]),e[1][1]=Math.max(e[1][1],r[1])):[...n[x][2]].forEach(S=>t(g-1,S))})(i,"I");const m=[(e[1][0]+e[0][0])/2,(e[1][1]+e[0][1])/2],p=1800/Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]);if(s.forEach(t=>{t[0]=(t[0]-m[0])*p,t[1]=(t[1]-m[1])*p}),a){let t=1;h.i=setInterval(()=>{t===s.length?clearInterval(h.i):(l.appendChild(w({width:2,color:[0,0,0],start:s[t-1],end:s[t]})),t++)},5)}else for(let t=1;t<s.length;t++)l.appendChild(w({width:2,color:[0,0,0],start:s[t-1],end:s[t]}))}const A=()=>{const{fracID:l}=v(),a=N.useRef(null);if(!(l in d))return o.jsx(j,{to:"/geo-vis/404"});const c={i:void 0};let i=d[l].rules();function n(){i=d[l].rules(),a.current.innerHTML="",clearInterval(c.i)}function h(u){n(),E(a.current,{...u,rules:i.rules,interval:c,depth:u.depth+i.shift})}function r(){console.log(a.current)}return o.jsxs("article",{className:f("flex w-full flex-col gap-8 py-2","lg:flex-row lg:gap-0"),children:[o.jsxs("div",{className:f("flex w-full flex-col","lg:w-1/3"),children:[o.jsx("h3",{className:f("pb-4 text-2xl underline","lg:text-3xl"),children:d[l].name}),o.jsx(b,{handleSubmit:h,SVGReset:n,maxDepth:d[l].maxDepth,handleSave:r})]}),o.jsx("div",{className:f("flex justify-center","lg:w-2/3"),children:o.jsx("div",{className:f("aspect-square w-full rounded-xl bg-neutral-200","lg:w-[80vh]"),children:o.jsx(L,{ref:a})})})]})};export{A as default};
//# sourceMappingURL=LinearFrac-8zdOtCDM.js.map
